@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager

@{
    ViewData["Title"] = "Главная";
}

<div style="margin: 0 auto;
            margin-top: 20px;
            background-color: sienna;
            text-align: center;
            display: block;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            
            width: 75%"
     class="text-center">
    @if (SignInManager.IsSignedIn(User))
    {
        <h1 class="display-4">Добро пожаловать</h1>
        <p style="font-size: 20px; margin-top: 25px">Вы можете выбрать одну из таблиц для просмотра или редактирования</p>

        <table align="center" style="position: relative; width: 700px; height: 400px;">
            <tr>
                <td style="position: relative;">
                    <a href="/Books" class="btn-custom btn-books"><span>Книги</span></a>
                </td>
                <td style="position: relative;">
                    <a href="/Genres" class="btn-custom btn-genres"><span>Жанры</span></a>
                </td>
                <td style="position: relative;">
                    <a href="/LoanedBooks" class="btn-custom btn-loaned"><span>Взятые книги</span></a>
                </td>
            </tr>
            <tr>
                <td style="position: relative;">
                    <a href="/Employees" class="btn-custom btn-employees"><span>Сотрудники</span></a>
                </td>
                <td style="position: relative;">
                    <a href="/Publishers" class="btn-custom btn-publishers"><span>Издатели</span></a>
                </td>
                <td style="position: relative;">
                    <a href="/Readers" class="btn-custom btn-readers"><span>Читатели</span></a>
                </td>
            </tr>

        </table>
           
           
           

        <div style="width: 100%; text-align: center;">
            <p></p>
            <hr style="display: inline-block; width: 60%; border: 0; border-top: 5px solid gray;">
        </div>
        <p style="font-size: 20px">Вы также можете выбрать одну из дополнительных опций просмотра таблиц</p>

        <div class="mt-4" style="margin-bottom: 100px">
            <a asp-controller="PersonnelDepartment" asp-action="Index" class="btn btn-secondary">Отдел кадров</a>
            <a asp-controller="Catalog" asp-action="Index" class="btn btn-secondary">Каталог</a>
            <a asp-controller="BooksOnHands" asp-action="Index" class="btn btn-secondary">Книги на руках</a>
            <a asp-controller="FallReaders" asp-action="Index" class="btn btn-secondary">Просроченные книги</a>

        </div>
    }
    else
    {
        <h3>Действия на данном сайте будут доступны лишь после авторизации</h3>
    }

    
</div>

<style>  

    
    /* Основной стиль кнопок */
    .btn-custom {
        margin-top: -100px;
        position: absolute; /* Фиксируем каждую кнопку */
        width: 50px;
        height: 150px;
        color: transparent;
        display: flex;
        justify-content: center;
        align-items: center;
        text-decoration: none;
        border: none;
        border-radius: 5px;
        overflow: hidden;
        transition: width 0.5s ease, transform 0.5s ease; /* Настроили анимацию отдельно */
        left: 50%; /* Центруем кнопки относительно родителя */
        transform: translateX(-50%); /* Для центра кнопки */
    }

    /* Добавление центральной серой полосы (переплёт) */
    .btn-custom::after {
        content: "";
        position: absolute;
            
        left: 50%;
        width: 30%; /* Узкая полоса */
        height: 95%; /* Полоса не касается краёв */
        background-color: lightgray;
        transform: translateX(-50%);
        z-index: 1; /* Линии над белой рамкой, но под текстом */
        transition: all 0.3s ease;
    }

    /* Анимация при наведении */
    .btn-custom:hover {
        width: 200px; /* Расширение кнопки */
        color: black; /* Текст становится чёрным */
        transform: translateX(-100px); /* Смещаем центр на половину нового размера */
    }

    /* Изменение переплёта в рамку */
    .btn-custom:hover::after {
        width: 90%; /* Рамка с отступами */
        height: 94%; /* Рамка с отступами */
        margin: auto;
        opacity: 1;
        background-color: white; /* Белая рамка */
    }

    /* Добавление строк текста */
    .btn-custom:hover::before {
        content: "";
        position: absolute;
        inset: 10%; /* Отступы внутри рамки */
        background: repeating-linear-gradient( to bottom, transparent, transparent 4px, rgba(0, 0, 0, 0.1) 4px, rgba(0, 0, 0, 0.1) 5px ); /* Линии: прозрачные + серые */
        transform: translateY(0);
        opacity: 1;
        z-index: 2;
    }

    

    /* Разные цвета для каждой кнопки */
    .btn-books {
        left: 50%;
        background-color: #007bff; /* Синий */
    }

    .btn-genres {
        right: 80px;
        background-color: #17a2b8; /* Бирюзовый */
    }

    .btn-loaned {
        left: 70%;
        background-color: #28a745; /* Зеленый */
    }

    .btn-employees {
        left: 10%;
        background-color: #dc3545; /* Красный */
    }

    .btn-publishers {
        left: 70%;
        background-color: #ffc107; /* Желтый */
    }

    .btn-readers {
        right: 340px;
        background-color: purple; /* Фиолетовый */
    }

    /* Скрытие текста при уменьшенном размере */
    .btn-custom::before {
        content: attr(data-text); /* Использование текста из data-text */
        position: absolute;
        color: black; /* Чёрный текст */
        opacity: 0;
        z-index: 3;
        transform: translateY(0); /* Скрыт ниже кнопки */
        transition: opacity 0.1s ease, transform 0.5s ease;
    }

    



    .btn-custom span {
        padding-top: 70px;
        padding-bottom: 70px;
        position: absolute;
        justify-content: center;
        align-items: center;
        width: 190px;
        font-size: 20px;
        z-index: 3; /* Текст над всеми элементами */
        color: black;
        opacity: 0;
        transition: opacity 0.1s ease;
    }


    /* Текст кнопки */
    .btn-custom span:hover {
        
        opacity: 1;
    }
</style>
