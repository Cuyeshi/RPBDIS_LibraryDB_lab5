@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager

@{
    ViewData["Title"] = "Главная";
}


@if (SignInManager.IsSignedIn(User))
{
<div style="margin: 0 auto;
        margin-top: -31px;
        background-color: sienna;
        text-align: center;
        display: block;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 950px;
        width: 75%;
        border-style: solid;
        border-color: #572e1b;
        border-width: 15px;"
        
        class="text-center">
    <h1 class="display-4" style="color:white; margin-bottom: -0px" >Добро пожаловать</h1>
    <p style="font-size: 20px; margin-top: 25px; margin-bottom: 70px; color: white">Вы можете выбрать одну из таблиц для просмотра или редактирования</p>

    <div class="background-rectangle">
        <div class="background-rectangle-line" style="margin-top: 170px"></div>
        <div class="background-rectangle-line" style="margin-top: 165px"></div>
    </div>

    <table align="center" style="position: relative; width: 700px; height: 400px;">
        <tr>
            <td style="position: relative;">
                <a href="/Books" class="btn-custom btn-books"><span>Книги</span></a>
            </td>
            <td style="position: relative;">
                <a href="/Genres" class="btn-custom btn-genres"><span>Жанры</span></a>
            </td>
            <td style="position: relative;">
                <a href="/LoanedBooks" class="btn-custom btn-loaned"><span>Взятые книги</span></a>
            </td>
        </tr>
        <tr>
            <td style="position: relative;">
                <a href="/Employees" class="btn-custom btn-employees"><span>Сотрудники</span></a>
            </td>
            <td style="position: relative;">
                <a href="/Publishers" class="btn-custom btn-publishers"><span>Издатели</span></a>
            </td>
            <td style="position: relative;">
                <a href="/Readers" class="btn-custom btn-readers"><span>Читатели</span></a>
            </td>
        </tr>

    </table>


    <p class="display-4" style="text-align: left; position:absolute; margin-top: 100px; margin-left: 80px; font-size:30px; color: white">
        Вы также можете выбрать <br /> одну из  дополнительных опций <br />просмотра таблиц
    </p>

    <div class="background-smallRectangle">
        <div class="background-rectangle-line" style="margin-bottom: -130px"></div>
        <div class="door-container">
            <div class="door">
                <div class="front">Дополнительные <br />опции</div>
                <div class="back">
                    продам гараж 
                    <br />
                    +375(29)985-55-59
                </div>
            </div>
            <div style="margin-top: -189px">
                <a asp-controller="PersonnelDepartment" asp-action="Index" class="btn btn-secondary">Отдел кадров</a>
                <a asp-controller="Catalog" asp-action="Index" class="btn btn-secondary">Каталог</a>
            </div>
            <div style="margin-top: 73px">
                <a asp-controller="BooksOnHands" asp-action="Index" class="btn btn-secondary">Книги на руках</a>

            </div>
            <div style="margin-top: 2px">
                <a asp-controller="FallReaders" asp-action="Index" class="btn btn-secondary">Просроченные книги</a>

            </div>

        </div>
            
    </div>
</div>

}
else
{
    <h3 style="background-color: white; text-align:center">Действия на данном сайте будут доступны лишь после авторизации</h3>
}

    

<style>  

    .background-rectangle {
        left: 20%;
        right: 20%;
        margin-top: -25px;
        position: absolute;
        height: 410px;
        background-color: #61331d;
        border-style: solid;
        border-width: 6px;
        border-color: #572e1b;
    }

    .background-smallRectangle {
        margin-left: 200px;
        left: 45%;
        right: 25%;
        margin-top: 30px;
        position: absolute;
        height: 280px;
        background-color: #422314;
        border-style: solid;
        border-width: 6px;
        border-color: #572e1b;
        z-index: 0;
    }

    .door-container {
        margin-top: -24px;
        position:absolute;
        perspective: 1000px; /* Добавляем перспективу для 3D-эффекта */
        width: 100%;
        height: 100%;
    }

    .door {
        position: relative;
        width: 100%;
        height: 100%;
        transform-style: preserve-3d; /* Сохраняем 3D для дочерних элементов */
        transition: transform 0.5s ease-in-out; /* Плавная анимация вращения */
        transform-origin: right; /* Точка вращения — левая сторона */
    }

    /* Передняя сторона */
    .front, .back {
        position: absolute;
        width: 100%;
        height: 100%;
        
        backface-visibility: hidden; /* Скрытие задней стороны при повороте */
    }

    .front {
        background: #572e1b;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        font-size: 20px;
        border-style: solid;
        border-width: 8px;
        border-color: #472616;
    }

    /* Обратная сторона */
    .back {
        background: #29160d;
        transform: rotateY(180deg); /* Переворачиваем обратную сторону */
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        font-size: 20px;
    }

    /* Анимация на hover */
    .door-container:hover .door {
        transform: rotateY(100deg); /* Поворот дверцы на 180 градусов */
    }




    .background-rectangle-line {
        display: inline-block;        
        width: 100%;
        height: 30px;
        background-color: #26170f;
    }

    /* Основной стиль кнопок */
    .btn-custom {
        margin-top: -100px;
        position: absolute; /* Фиксируем каждую кнопку */
        width: 30px;
        height: 150px;
        color: transparent;
        display: flex;
        justify-content: center;
        align-items: center;
        text-decoration: none;
        border: none;
        border-radius: 5px;
        overflow: hidden;
        transition: width 0.5s ease, transform 0.5s ease; /* Настроили анимацию отдельно */
        left: 50%; /* Центруем кнопки относительно родителя */
        transform: translateX(-50%); /* Для центра кнопки */
    }

    /* Добавление центральной серой полосы (переплёт) */
    .btn-custom::after {
        content: "";
        position: absolute;
            
        left: 50%;
        width: 40%; /* Узкая полоса */
        height: 95%; /* Полоса не касается краёв */
        background-color: lightgray;
        transform: translateX(-50%);
        z-index: 1; /* Линии над белой рамкой, но под текстом */
        transition: all 0.3s ease;
    }

    /* Анимация при наведении */
    .btn-custom:hover {
        width: 200px; /* Расширение кнопки */
        color: black; /* Текст становится чёрным */
        transform: translateX(-100px); /* Смещаем центр на половину нового размера */
    }

    /* Изменение переплёта в рамку */
    .btn-custom:hover::after {
        width: 90%; /* Рамка с отступами */
        height: 94%; /* Рамка с отступами */
        margin: auto;
        opacity: 1;
        background-color: white; /* Белая рамка */
        border: 2px solid gray; /* Граница */
        box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1); /* Лёгкая тень для реалистичности */
    }

    /* Добавление строк текста */
    .btn-custom:hover::before {
        content: "";
        position: absolute;
        inset: 10%; /* Отступы внутри рамки */
        background: repeating-linear-gradient( to bottom, transparent, transparent 4px, rgba(0, 0, 0, 0.1) 4px, rgba(0, 0, 0, 0.1) 5px ); /* Линии: прозрачные + серые */
        transform: translateY(0);
        opacity: 1;
        z-index: 2;
    }

    

    /* Разные цвета для каждой кнопки */
    .btn-books {
        left: 50%;
        background-color: #007bff; /* Синий */
    }

    .btn-genres {
        right: 80px;
        background-color: #17a2b8; /* Бирюзовый */
    }

    .btn-loaned {
        left: 70%;
        background-color: #28a745; /* Зеленый */
    }

    .btn-employees {
        left: 10%;
        background-color: #dc3545; /* Красный */
    }

    .btn-publishers {
        left: 70%;
        background-color: #ffc107; /* Желтый */
    }

    .btn-readers {
        right: 340px;
        background-color: purple; /* Фиолетовый */
    }

    /* Скрытие текста при уменьшенном размере */
    .btn-custom::before {
        content: attr(data-text); /* Использование текста из data-text */
        position: absolute;
        color: black; /* Чёрный текст */
        opacity: 0;
        z-index: 3;
        transform: translateY(0); /* Скрыт ниже кнопки */
        transition: opacity 0.1s ease, transform 0.5s ease;
    }

    



    .btn-custom span {
        padding-top: 70px;
        padding-bottom: 70px;
        position: absolute;
        justify-content: center;
        align-items: center;
        width: 190px;
        font-size: 20px;
        z-index: 3; /* Текст над всеми элементами */
        color: black;
        opacity: 0;
        transition: opacity 0.1s ease;
    }


    /* Текст кнопки */
    .btn-custom span:hover {
        
        opacity: 1;
    }
</style>
